<div data-ng-controller="Rbs_Media_Image_ListController">
	<page-header sub-title="{{ i18nAttr('m.rbs.media.document.image-list', ['ucf']) }}"></page-header>
	<search-filters model="Rbs_Media_Image" filter-query="query" text-search="textSearch"></search-filters>

	<div>
		<a href="(= 'Rbs_Media_Image' | documentURL:'new' =)">{{ i18n('m.rbs.media.document.image-create', ['ucf']) }}</a>
	</div>

	<rbs-document-list data-dlid="DLRbsMediaImage" publishable="true" model="Rbs_Media_Image" filter-filter-query="query" use-properties="width height">
		<column name="path" thumbnail="XS" thumbnail-path="doc" ></column>
		<column name="label" primary="true"></column>
		<column name="width" width="70px" align="right"><span class="width-column">(= doc.width | number =)</span></column>
		<column name="height" width="70px"><span class="height-column">(= doc.height | number =)</span></column>
		<column name="megapixels" width="70px" align="right" label="Mpx">(= doc.width*doc.height/1000000 | number:1 =) <abbr title="{{ i18nAttr('m.rbs.media.document.image.megapixels', ['ucf']) }}">Mpx</abbr></column>

		<preview>
			<img rbs-storage-image="doc" thumbnail="M" class="pull-left img-polaroid margin-right"/>
			<div style="margin-left: 200px;">
				<h4>(= doc.label =)</h4>
				<dl>
					<dt>{{ i18n('m.rbs.media.document.image.dimensions', ['ucf']) }}</dt>
					<dd>(= doc.width | number =) &times; (= doc.height | number =) <abbr title="Pixels">px</abbr></dd>
					<dt>{{ i18n('m.rbs.media.document.image.megapixels', ['ucf']) }}</dt>
					<dd>(= doc.width*doc.height/1000000 | number:1 =) <abbr title="{{ i18nAttr('m.rbs.media.document.image.megapixels', ['ucf']) }}">Mpx</abbr></dd>
					<dt>{{ i18n('m.rbs.media.document.image.file', ['ucf']) }}</dt>
					<dd>(= doc.path.storageURI =)</dd>
					<dt>{{ i18n('m.rbs.tag.tags', ['ucf','lbl']) }}</dt>
					<dd ng-if="doc.getTags().length"><span rbs-tag="tag" ng-repeat="tag in doc.getTags()"></span></dd>
					<dd ng-if="!doc.getTags().length">{{ i18n('m.rbs.tag.no-tags', ['ucf']) }}</dd>
				</dl>
			</div>
		</preview>

		<grid-item>
			<img rbs-storage-image="doc" thumbnail="L" />
		</grid-item>

	</rbs-document-list>
</div>