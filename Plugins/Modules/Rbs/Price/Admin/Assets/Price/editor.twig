<form name="form" ng-submit="submit()" class="form-horizontal">
	<fieldset data-ng-show="section==''"
		data-form-section-label="{{ i18nAttr('m.rbs.admin.general-properties', ['ucf']) }}"
		data-form-section-group="{{ i18nAttr('m.rbs.admin.properties', ['ucf']) }}">

		<rbs-field-picker property="sku" label="{{ i18nAttr('m.rbs.price.documents.price.sku', ['ucf']) }}"
			accepted-model="Rbs_Stock_Sku"
			selector-title="{{ i18nAttr('m.rbs.price.documents.price.sku-picker-title', ['ucf']) }}"
			allow-edition="true"
			allow-creation="false"
			required="true"
			ng-hide="hideSku">
		</rbs-field-picker>

		<rbs-field required="true" label="{{ i18nAttr('m.rbs.price.documents.price.webstore', ['ucf']) }}">
			<select ng-required="true" data-ng-model="document.webStore" rbs-items-from-collection="Rbs_Store_Collection_WebStores">
				<option value=""> {{ i18n('m.rbs.store.admin.js.select-webstore', ['ucf']) }}</option>
			</select>
		</rbs-field>

		<rbs-field required="true" label="{{ i18nAttr('m.rbs.price.documents.price.billingarea', ['ucf']) }}">
			<select ng-required="true" data-ng-model="document.billingArea" ng-disabled="!webStoreId"
				rbs-items-collection-params="webStoreId:(=webStoreId=)"
				rbs-items-from-collection="Rbs_Price_Collection_BillingAreasForWebStore">
				<option value=""> {{ i18n('m.rbs.price.admin.js.select-billingarea', ['ucf']) }}</option>
			</select>
			<table data-ng-show="taxInfo" class="table table-striped">
				<thead>
				<th>{{ i18n('m.rbs.price.documents.tax', ['ucf']) }}</th>
				<th>{{ i18n('m.rbs.price.documents.tax.category', ['ucf']) }}</th>
				</thead>
				<tbody>
				<tr data-ng-repeat="tax in taxInfo">
					<td>(=tax.code=)<br/>
						<small>(=tax.label=)</small>
					</td>
					<td>
						<select data-ng-model="document.taxCategories[tax.code]" class="input-medium" data-ng-options="c.code as c.formattedRate + '  (' + c.code + ')' for c in tax.categories">
							<option value="">{{ i18n('m.rbs.price.documents.tax.not-applicable', ['ucf']) }}</option>
						</select>
					</td>
				</tr>
				</tbody>
			</table>
		</rbs-field>

		<hr/>

		<rbs-field required="true" label="{{ i18nAttr('m.rbs.price.documents.price.bovalue', ['ucf']) }}">
			<rbs-price-input data-ng-model="document.boValue" data-currency-code="(=billingArea.currencyCode=)"
				data-price-with-tax="(=billingArea.boEditWithTax=)" />
		</rbs-field>

		<rbs-field label="{{ i18nAttr('m.rbs.price.documents.price.ecoTax', ['ucf']) }}">
			<rbs-price-input data-ng-model="document.ecoTax" data-currency-code="(=billingArea.currencyCode=)"
				data-price-with-tax="(=billingArea.boEditWithTax=)" />
		</rbs-field>

		<hr/>

		<rbs-field-picker property="basePrice" label="{{ i18nAttr('m.rbs.price.documents.price.baseprice', ['ucf']) }}"
				accepted-model="Rbs_Price_Price" picker="model"
				selector-title="{{ i18nAttr('m.rbs.price.documents.price.select-baseprice', ['ucf']) }}"
				allow-edition="true" allow-creation="true">
		</rbs-field-picker>

		<rbs-field-text ng-show="document.basePrice"
			property="discountDetail"
			label="{{ i18nAttr('m.rbs.price.documents.price.discountdetail', ['ucf']) }}"
			input-class="input-block-level">
		</rbs-field-text>

		<hr/>
		<span class="help-block">
			{{ i18n('m.rbs.price.documents.price.publication-section-help', ['ucf']) }}
		</span>

		<div class="control-group property">
			<label class="control-label"
				for="startActivation">{{ i18n('m.rbs.price.documents.price.startactivation', ['ucf']) }}
			</label>

			<div class="controls">
				<date-selector data-ng-model="document.startActivation" name="startActivation"></date-selector>
				<div class="btn-toolbar">
					<div class="btn-group">
						<button data-ng-click="activationNow()" type="button" class="btn btn-small">{{ i18n('m.rbs.price.admin.js.now') }}</button>
						<button data-ng-click="activationTomorrow()" type="button" class="btn btn-small">{{ i18n('m.rbs.price.admin.js.tomorrow') }}</button>
						<button data-ng-click="activationNextMonday()" type="button" class="btn btn-small">{{ i18n('m.rbs.price.admin.js.nextmonday') }}</button>
						<button data-ng-click="activationNextMonth()" type="button" class="btn btn-small">{{ i18n('m.rbs.price.admin.js.nextmonth') }}</button>
					</div>
				</div>
			</div>
		</div>

		<div class="control-group property">
			<label class="control-label"
				for="endActivation">{{ i18n('m.rbs.price.documents.price.endactivation', ['ucf']) }}
			</label>

			<div class="controls">
				<date-selector data-ng-model="document.endActivation" name="endActivation"></date-selector>
				<div class="btn-toolbar">
					<div class="btn-group">
						<button data-ng-click="endActivationOneWeek(true)" data-ng-disabled="!document.startActivation" type="button" ng-class="activationOffsetClass['1w']" class="btn btn-small">{{ i18n('m.rbs.price.admin.js.add-one-week') }}</button>
						<button data-ng-click="endActivationTwoWeeks(true)" data-ng-disabled="!document.startActivation" type="button" ng-class="activationOffsetClass['2w']" class="btn btn-small">{{ i18n('m.rbs.price.admin.js.add-two-weeks') }}</button>
						<button data-ng-click="endActivationOneMonth(true)" data-ng-disabled="!document.startActivation" type="button" ng-class="activationOffsetClass['1M']" class="btn btn-small">{{ i18n('m.rbs.price.admin.js.add-one-month') }}</button>
					</div>
					<div class="btn-group">
						<button data-ng-click="endActivationTomorrow()" type="button" class="btn btn-small">{{ i18n('m.rbs.price.admin.js.tomorrow') }}</button>
						<button data-ng-click="endActivationEndOfWeek()" type="button" class="btn btn-small">{{ i18n('m.rbs.price.admin.js.end-of-week') }}</button>
						<button data-ng-click="endActivationEndOfMonth()" type="button" class="btn btn-small">{{ i18n('m.rbs.price.admin.js.end-of-month') }}</button>
					</div>
				</div>
			</div>
		</div>
	</fieldset>

	<fieldset
		data-ng-show="section=='systeminfo'"
		data-form-section-label="{{ i18nAttr('m.rbs.admin.admin.js.status', ['ucf']) }}"
		data-form-section-group="{{ i18nAttr('m.rbs.admin.information', ['ucf']) }}"
		data-document-system-info-section>
	</fieldset>

	<form-button-bar></form-button-bar>
</form>