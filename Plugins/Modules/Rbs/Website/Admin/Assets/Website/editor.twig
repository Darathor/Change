<form name="form" ng-submit="submit()" class="form-horizontal">
	<fieldset data-ng-show="section==''"
		data-form-section-label="{{ i18nAttr('m.rbs.admin.general-properties', ['ucf']) }}"
		data-form-section-group="{{ i18nAttr('m.rbs.admin.properties', ['ucf']) }}">

		<rbs-field-text property="label" required="true"
			label="{{ i18nAttr(propertyKey('Rbs_Website_Website', 'label'), ['ucf']) }}">
		</rbs-field-text>

		<rbs-field-text property="title" required="true" rbs-sync-value="document.label"
			sync-title="{{ i18nAttr('m.rbs.website.documents.topic.synchronize-title-label', ['ucf']) }}"
			label="{{ i18nAttr(propertyKey('Rbs_Website_Topic', 'title'), ['ucf']) }}">
		</rbs-field-text>

		<rbs-field-url property="baseurl" required="true"
				label="{{ i18nAttr(propertyKey('Rbs_Website_Website', 'baseurl'), ['ucf']) }}">
			<span class="help-block">{{ i18n('m.rbs.website.documents.website.baseurl-help', ['ucf']) }}</span>
		</rbs-field-url>

		<rbs-field ng-hide="document.isNew()" label="{{ i18nAttr(propertyKey('Rbs_Website_Website', 'indexPage'), ['ucf']) }}">
			<span class="uneditable-input">(=document.indexPage.label=)</span>
		</rbs-field>
	</fieldset>

	<fieldset data-ng-show="section=='systeminfo'"
		data-form-section-label="{{ i18nAttr('m.rbs.admin.Status', ['ucf']) }}"
		data-form-section-group="{{ i18nAttr('m.rbs.admin.Information', ['ucf']) }}"
		data-document-system-info-section>
	</fieldset>

	<div ng-if="!document.isNew()">
		<fieldset data-ng-show="section=='permission'"
			data-form-section-label="{{ i18nAttr('m.rbs.website.documents.topic.permission', ['ucf']) }}"
			data-form-section-group="{{ i18nAttr('m.rbs.admin.Information', ['ucf']) }}">
			<div rbs-tip="RbsWebsiteSectionPermissionRules" class="margin-top">
				{{ i18n('m.rbs.website.admin.section-permission-rule-helper', ['ucf']) }}
			</div>

			<rbs-field-picker-multiple property="authorizedUsers" required="false"
				label="{{ i18nAttr('m.rbs.website.documents.topic.authorized-users', ['ucf']) }}"
				accepted-model="Rbs_User_User"
				selector-title="{{ i18nAttr('m.rbs.website.documents.topic.users-picker-title', ['ucf']) }}"
				allow-creation="false">
			</rbs-field-picker-multiple>

			<rbs-field-picker-multiple property="authorizedGroups" required="false"
				label="{{ i18nAttr('m.rbs.website.documents.topic.authorized-groups', ['ucf']) }}"
				accepted-model="Rbs_User_Group"
				selector-title="{{ i18nAttr('m.rbs.website.documents.topic.groups-picker-title', ['ucf']) }}"
				allow-creation="false">
			</rbs-field-picker-multiple>
		</fieldset>

		<fieldset data-ng-show="section=='sitemap'"
			data-form-section-label="{{ i18nAttr('m.rbs.website.documents.website.sitemap', ['ucf']) }}"
			data-form-section-group="{{ i18nAttr('m.rbs.admin.Information', ['ucf']) }}">

			<div rbs-tip="Rbs_Website_WebsiteEditorSitemap">
				{{ i18n('m.rbs.website.documents.website.sitemap-help') }}
			</div>

			<rbs-field-boolean property="sitemapGeneration" required="false"
				label="{{ i18nAttr(propertyKey('Rbs_Website_Website', 'sitemapGeneration'), ['ucf']) }}">
			</rbs-field-boolean>

			<rbs-field label="{{ i18nAttr('m.rbs.website.documents.website.sitemap-time-interval', ['ucf']) }}" required="false">
				<rbs-time-interval-input name="sitemapTimeInterval" show="weeks,days,hours"
					ng-model="data.timeInterval" disabled="!document.sitemapGeneration">
				</rbs-time-interval-input>
			</rbs-field>

			<rbs-field label="{{ i18nAttr('m.rbs.website.documents.website.sitemaps-url', ['ucf']) }}" required="false">
				<table class="table">
					<thead>
						<tr>
							<th>{{ i18n('m.rbs.website.documents.website.sitemap-lang', ['ucf']) }}</th>
							<th>{{ i18n('m.rbs.website.documents.website.sitemap-url', ['ucf']) }}</th>
							<th ng-if="pendingSitemapCreations"></th>
						</tr>
					</thead>
					<tbody>
						<tr ng-repeat="sitemap in document.sitemaps">
							<td>(= sitemap.LCID =)</td>
							<td ng-if="!sitemap.jobId"></td>
							<td ng-if="sitemap.jobId">
								<a ng-if="sitemap.url" href="" ng-href="(= sitemap.url =)">(= sitemap.url =)</a>
								<span ng-if="!sitemap.url">
									{{ i18n('m.rbs.website.documents.website.sitemap-url-pending-creation', ['ucf']) }}
								</span>
							</td>
							<td ng-if="sitemap.jobId && !sitemap.url">
								<button type="button" class="btn btn-default" ng-click="notifyUrlCreation(sitemap)"
									ng-disabled="disableNotifyButtons[sitemap.LCID]">
									{{ i18n('m.rbs.website.documents.website.notify-url-creation', ['ucf']) }}
								</button>
							</td>
						</tr>
					</tbody>
				</table>
			</rbs-field>
		</fieldset>
	</div>

	<form-button-bar></form-button-bar>
</form>