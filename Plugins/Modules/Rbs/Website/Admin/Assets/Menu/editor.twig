<form name="form" ng-submit="submit()" class="form-horizontal">
	<fieldset data-ng-show="section==''"
		data-form-section-label="{{ i18nAttr('m.rbs.admin.general-properties', ['ucf']) }}"
		data-form-section-group="{{ i18nAttr('m.rbs.admin.properties', ['ucf']) }}">

		<rbs-field-text
				property="label" required="true"
				label="{{ i18nAttr(propertyKey('Rbs_Website_Menu', 'label'), ['ucf']) }}">
		</rbs-field-text>

		<rbs-field-picker
				property="website" required="true" label="{{ i18nAttr(propertyKey('Rbs_Website_Menu', 'website'), ['ucf']) }}"
				accepted-model="Rbs_Website_Website"
				selector-title="{{ i18nAttr('m.rbs.website.documents.menu.website-picker-title', ['ucf']) }}"
				allow-creation="false">
		</rbs-field-picker>
	</fieldset>

	<fieldset ng-form="" data-ng-show="section=='entries'"
	          data-form-section-label="{{ i18nAttr('m.rbs.website.documents.menu.section-items', ['ucf']) }}"
	          data-form-section-group="{{ i18nAttr('m.rbs.admin.properties', ['ucf']) }}">

		<rbs-field property="items" label="{{ i18nAttr(propertyKey('Rbs_Website_Menu', 'items'), ['ucf']) }}">
			<div class="rbs-website-menu-items-selector" ng-model="document.items"></div>
			<token-list rows="true" items="document.items" item-template="picker-item-Rbs_Menu_Item.html"></token-list>
			<a href="javascript:;" ng-click="toggleAddItemUI($event)"><i ng-class="{true:'icon-chevron-up', false:'icon-chevron-down'}[addItemUIShown]"></i>
				{{ i18n('m.rbs.website.documents.menu.add-items', ['ucf']) }}</a>
		</rbs-field>

		<div class="well" ng-if="addItemUIShown">
			<button type="button" class="close pull-right" ng-click="toggleAddItemUI($event)">&times;</button>
			<h4>{{ i18n('m.rbs.website.documents.menu.add-item', ['ucf']) }}</h4>
			<span class="help-block">{{ i18n('m.rbs.website.documents.menu.add-item-help', ['ucf']) }}</span>

			<rbs-field label="{{ i18n('m.rbs.website.documents.menu.select-document', ['ucf']) }}">
				<div class="document-picker-single"
					allow-creation="false"
					select-model="{publishable:'true', root:'true'}"
					ng-model="add.selectedDocument"
					selector-title="{{ i18nAttr('m.rbs.website.documents.menu.select-document-to-add-to-menu', ['ucf']) }}"
					ng-change="onDocumentSelected(add.selectedDocument)">
				</div>
			</rbs-field>

			<rbs-field label="{{ i18n('m.rbs.website.documents.menu.title', ['ucf']) }}">
				<input type="text" class="form-control" ng-required="true" ng-pattern="add.titlePattern" ng-model="add.title" />
				<label>
					<input type="checkbox" ng-model="add.titleI18nKey"/> {{ i18n('m.rbs.website.documents.menu.i18nKey', ['ucf']) }}
				</label>
			</rbs-field>

			<rbs-field label="{{ i18n('m.rbs.website.documents.menu.url', ['ucf']) }}">
				<input type="url" class="form-control" ng-model="add.url" />
			</rbs-field>

			<div class="form-group property">
				<div class="col-lg-9 col-lg-offset-3 controls">
					<button type="button" class="btn btn-primary" ng-click="addItem()"><i class="icon-plus"></i>
						{{ i18n('m.rbs.website.documents.menu.add-this-element', ['ucf']) }}</button>
				</div>
			</div>
		</div>
	</fieldset>

	<fieldset
			data-ng-show="section=='systeminfo'"
			data-form-section-label="{{ i18nAttr('m.rbs.admin.Status', ['ucf']) }}"
			data-form-section-group="{{ i18nAttr('m.rbs.admin.Information', ['ucf']) }}"
			data-document-system-info-section>
	</fieldset>

	<form-button-bar></form-button-bar>
</form>