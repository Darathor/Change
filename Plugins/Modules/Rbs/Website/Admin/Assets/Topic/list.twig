<div data-ng-controller="Rbs_Website_Topic_ListController">
	<page-header sub-title="{{ i18nAttr('m.rbs.website.document.topic-list', ['ucf']) }}"></page-header>

	<search-filters model="Rbs_Website_StaticPage" filter-query="query" text-search="textSearch"></search-filters>

	<div>
		<a href ng-href="(= 'Rbs_Website_StaticPage' | documentURL=)">{{ i18n('m.rbs.website.document.staticpage-create', ['ucf']) }}</a>
		|
		<a href ng-href="(= 'Rbs_Website_Topic' | documentURL=)">{{ i18n('m.rbs.website.document.topic-create', ['ucf']) }}</a>
	</div>

	<rbs-document-list data-dlid="DL1"
	               publishable="true"
	               tree="Rbs_Website"
	               filter-query="query">

		<column name="icon" width="30px" align="center">
			<span ng-if="doc.is('Rbs_Website_Topic') && doc.nodeHasChildren()" class="iconoverlay" title="Éléments dans cette rubrique : (=doc.nodeChildrenCount()=)">
				<i class="icon-2x icon-folder-close"></i>
				<label>(=doc.nodeChildrenCount() | maxNumber=)</label>
			</span>
			<i ng-if="doc.is('Rbs_Website_Topic') && ! doc.nodeHasChildren()" class="icon-2x icon-folder-close-alt"></i>
			<span ng-if="doc.is('Rbs_Website_StaticPage')" class="iconoverlay">
				<i class="icon-2x icon-file"></i>
			</span>
		</column>

		<column name="label" label="Libellé" primary="true">
			<strong><a ng-if="doc.is('Rbs_Website_StaticPage')" title="Éditer le contenu de la page"
			   href ng-href="(= doc | documentURL:'editor' =)">(=doc.label=)</a>
			<a ng-if="doc.is('Rbs_Website_Topic')" title="Naviguer vers le contenu de la rubrique"
			   href ng-href="(= doc | documentURL:'tree' =)">(=doc.label=)</a></strong>
		</column>

	</rbs-document-list>
</div>