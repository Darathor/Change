<div data-ng-controller="Change_Website_StaticPage_ListController">
	<page-header title="{{ i18nAttr('m.change.website.document.staticpage.document-list-name', ['ucf']) }}" query="query"></page-header>

	<search-filters model="Change_Website_StaticPage" query="DL.query" text-search="textSearch"></search-filters>

	<document-list-toolbar data-mask="(=DL.loading=)"></document-list-toolbar>

	<div class="alert alert-info" data-ng-show="DL.documents.length == 0 && ! DL.loading">
		<h4>{{ i18n('m.change.admin.lists.this-list-is-empty', ['ucf']) }}</h4>
		{{ i18n('m.change.admin.lists.you-can', ['ucf', 'lab']) }}
		<ul>
			<li>{{ i18n('m.change.admin.lists.create-elements-with-buttons') }}</li>
			<li ng-show="DL.hasFilters()"><a href="javascript:;" ng-click="DL.cancelFilters()">{{ i18n('m.change.admin.lists.clear-search-filters') }}</a></li>
		</ul>
	</div>

	<table
		data-ng-show="DL.documents.length" class="document-list table table-condensed table-bordered table-striped table-hover data-ng-cloak">
		<thead>
			<tr>
				<th style="text-align: center; width: 30px"><input type="checkbox" data-ng-model="DL.cbSelectAll" data-ng-change="DL.toggleSelectAll()" /></th>
				<th	data-ng-repeat="column in DL.columns" style="text-align: (=column.align=); width: (=column.width=)"
					data-ng-class="{true:'sorted', false:''}[DL.isSortedOn(column.id)]">
					<a data-ng-show="column.sortable" data-ng-href="(=DL.headerUrl(column.id)=)">
						(=column.label=)
						<i class="column-sort-indicator" data-ng-class="{true:'icon-sort-down', false:'icon-sort-up'}[DL.sort.descending]" data-ng-show="DL.isSortedOn(column.id)"></i>
					</a>
					<span data-ng-show="!column.sortable">(=column.label=)</span>
				</th>
				<th style="text-align:center; width:30px"><i class="icon-trash"></i></th>
			</tr>
		</thead>

		<tbody>
			<tr data-ng-repeat="doc in DL.documents" data-ng-class="{selected: doc.selected, warning: doc.publicationStatus!='PUBLISHABLE'}">
				<td style="text-align: center">
					<input type="checkbox" data-ng-model="doc.selected" data-ng-click="DL.checkDocumentRow($event, $index, doc)" data-docid="(=doc.id=)"/>
				</td>
				<td style="text-align: center">
					<status data-ng-model="doc"/>
				</td>
				<td data-ng-class="{true:'sorted', false:''}[DL.isSortedOn('label')]">
					<a title="Editer le contenu de la page" class="btn btn-small pull-right" href data-ng-href="(= doc | documentURL:'editor' =)">
						Contenu
						<i class="icon-edit"></i>
					</a>
					<span class="document-info-labels" data-ng-bind-html-unsafe="doc | documentInfoLabels"></span>
					<a href data-ng-href="(= doc | documentURL =)">(=doc.label=)</a>
				</td>
				<td data-ng-class="{true:'sorted', false:''}[DL.isSortedOn('template')]">
					(=doc.template=)
				</td>
				<td data-ng-class="{true:'sorted', false:''}[DL.isSortedOn('modificationDate')]">
					(=doc.modificationDate | date:'medium'=)
				</td>
				<td data-ng-class="{true:'sorted', false:''}[DL.isSortedOn('activated')]" style="text-align: center">
					<status-switch document="doc"/>
				</td>
				<td style="text-align: center">
					<button class="btn btn-danger btn-small" type="button" data-ng-click="DL.remove(doc)"><i class="icon-trash icon-white"></i></button>
				</td>
			</tr>
		</tbody>
	</table>

	<footer class="row-fluid rbsc-list-footer" data-ng-show="DL.documents.length" data-mask="(=DL.loading=)">
		<div class="span2">
			<clipboard-add-widget selected="DL.selectedDocuments"></clipboard-add-widget>
		</div>
		<div class="span10">
			<pagination-toolbar document-list="DL" class="pull-right"></pagination-toolbar>
		</div>
	</footer>
</div>